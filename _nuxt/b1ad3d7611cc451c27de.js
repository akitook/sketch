(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{159:function(t,e,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",function(){return o})},160:function(t,e,r){"use strict";function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}r.d(e,"a",function(){return n})},210:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var o=r(70),n=function(t){o.CompressedTextureLoader.call(this,t),this._parser=n.parse};n.prototype=Object.create(o.CompressedTextureLoader.prototype),n.prototype.constructor=n,n.parse=function(t,e){var r={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function n(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}function h(t,e,r,o){for(var n=r*o*4,h=new Uint8Array(t,e,n),l=new Uint8Array(n),c=0,m=0,f=0;f<o;f++)for(var d=0;d<r;d++){var b=h[m],g=h[++m],v=h[++m],a=h[++m];m++,l[c]=v,l[++c]=g,l[++c]=b,l[++c]=a,c++}return l}var l,c=n("DXT1"),m=n("DXT3"),f=n("DXT5"),d=n("ETC1"),header=new Int32Array(t,0,31);if(542327876!==header[0])return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),r;if(4&!header[20])return console.error("THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code."),r;var v,y=header[21],w=!1;switch(y){case c:l=8,r.format=o.RGB_S3TC_DXT1_Format;break;case m:l=16,r.format=o.RGBA_S3TC_DXT3_Format;break;case f:l=16,r.format=o.RGBA_S3TC_DXT5_Format;break;case d:l=8,r.format=o.RGB_ETC1_Format;break;default:if(!(32===header[22]&&16711680&header[23]&&65280&header[24]&&255&header[25]&&4278190080&header[26]))return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",(v=y,String.fromCharCode(255&v,v>>8&255,v>>16&255,v>>24&255))),r;w=!0,l=64,r.format=o.RGBAFormat}r.mipmapCount=1,131072&header[2]&&!1!==e&&(r.mipmapCount=Math.max(1,header[7]));var x=header[28];if(r.isCubemap=!!(512&x),r.isCubemap&&(!(1024&x)||!(2048&x)||!(4096&x)||!(8192&x)||!(16384&x)||!(32768&x)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),r;r.width=header[4],r.height=header[3];for(var C=header[1]+4,L=r.isCubemap?6:1,M=0;M<L;M++)for(var j=r.width,F=r.height,i=0;i<r.mipmapCount;i++){if(w)var k=(A=h(t,C,j,F)).length;else{k=Math.max(4,j)/4*Math.max(4,F)/4*l;var A=new Uint8Array(t,C,k)}var T={data:A,width:j,height:F};r.mipmaps.push(T),C+=k,j=Math.max(j>>1,1),F=Math.max(F>>1,1)}return r}},211:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var o=r(70),n=function(t){this.manager=void 0!==t?t:o.DefaultLoadingManager};n.prototype={constructor:n,crossOrigin:"anonymous",load:function(t,e,r,n){var h=this,path=void 0===this.path?o.LoaderUtils.extractUrlBase(t):this.path,l=new o.FileLoader(this.manager);l.setPath(this.path),l.load(t,function(text){e(h.parse(text,path))},r,n)},setPath:function(path){return this.path=path,this},setResourcePath:function(path){return this.resourcePath=path,this},setTexturePath:function(path){return console.warn("THREE.MTLLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(path)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setMaterialOptions:function(t){return this.materialOptions=t,this},parse:function(text,path){for(var t=text.split("\n"),e={},r=/\s+/,o={},i=0;i<t.length;i++){var line=t[i];if(0!==(line=line.trim()).length&&"#"!==line.charAt(0)){var h=line.indexOf(" "),l=h>=0?line.substring(0,h):line;l=l.toLowerCase();var c=h>=0?line.substring(h+1):"";if(c=c.trim(),"newmtl"===l)e={name:c},o[c]=e;else if("ka"===l||"kd"===l||"ks"===l||"ke"===l){var m=c.split(r,3);e[l]=[parseFloat(m[0]),parseFloat(m[1]),parseFloat(m[2])]}else e[l]=c}}var f=new n.MaterialCreator(this.resourcePath||path,this.materialOptions);return f.setCrossOrigin(this.crossOrigin),f.setManager(this.manager),f.setMaterials(o),f}},n.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:o.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:o.RepeatWrapping},n.MaterialCreator.prototype={constructor:n.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(t){return this.crossOrigin=t,this},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var r in t){var o=t[r],n={};for(var h in e[r]=n,o){var l=!0,c=o[h],m=h.toLowerCase();switch(m){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(c=[c[0]/255,c[1]/255,c[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===c[0]&&0===c[1]&&0===c[2]&&(l=!1)}l&&(n[m]=c)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,r=this.materialsInfo[t],n={name:t,side:this.side};function h(t,r){if(!n[t]){var o,h,l=e.getTextureParams(r,n),map=e.loadTexture((o=e.baseUrl,"string"!=typeof(h=l.url)||""===h?"":/^https?:\/\//i.test(h)?h:o+h));map.repeat.copy(l.scale),map.offset.copy(l.offset),map.wrapS=e.wrap,map.wrapT=e.wrap,n[t]=map}}for(var l in r){var c,m=r[l];if(""!==m)switch(l.toLowerCase()){case"kd":n.color=(new o.Color).fromArray(m);break;case"ks":n.specular=(new o.Color).fromArray(m);break;case"ke":n.emissive=(new o.Color).fromArray(m);break;case"map_kd":h("map",m);break;case"map_ks":h("specularMap",m);break;case"map_ke":h("emissiveMap",m);break;case"norm":h("normalMap",m);break;case"map_bump":case"bump":h("bumpMap",m);break;case"map_d":h("alphaMap",m),n.transparent=!0;break;case"ns":n.shininess=parseFloat(m);break;case"d":(c=parseFloat(m))<1&&(n.opacity=c,n.transparent=!0);break;case"tr":c=parseFloat(m),this.options&&this.options.invertTrProperty&&(c=1-c),c>0&&(n.opacity=1-c,n.transparent=!0)}}return this.materials[t]=new o.MeshPhongMaterial(n),this.materials[t]},getTextureParams:function(t,e){var r,n={scale:new o.Vector2(1,1),offset:new o.Vector2(0,0)},h=t.split(/\s+/);return(r=h.indexOf("-bm"))>=0&&(e.bumpScale=parseFloat(h[r+1]),h.splice(r,2)),(r=h.indexOf("-s"))>=0&&(n.scale.set(parseFloat(h[r+1]),parseFloat(h[r+2])),h.splice(r,4)),(r=h.indexOf("-o"))>=0&&(n.offset.set(parseFloat(h[r+1]),parseFloat(h[r+2])),h.splice(r,4)),n.url=h.join(" ").trim(),n},loadTexture:function(t,e,r,n,h){var l,c=o.Loader.Handlers.get(t),m=void 0!==this.manager?this.manager:o.DefaultLoadingManager;return null===c&&(c=new o.TextureLoader(m)),c.setCrossOrigin&&c.setCrossOrigin(this.crossOrigin),l=c.load(t,r,n,h),void 0!==e&&(l.mapping=e),l}}},212:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var o=r(70),n=function(){var t=/^[og]\s*(.+)?/,e=/^mtllib /,r=/^usemtl /;function n(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var o={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(o),o},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},r&&r.name&&"function"==typeof r.clone){var o=r.clone(0);o.inherited=!0,this.object.materials.push(o)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var r=parseInt(t,10);return 3*(r>=0?r-1:r+e/3)},parseNormalIndex:function(t,e){var r=parseInt(t,10);return 3*(r>=0?r-1:r+e/3)},parseUVIndex:function(t,e){var r=parseInt(t,10);return 2*(r>=0?r-1:r+e/2)},addVertex:function(a,b,t){var e=this.vertices,r=this.object.geometry.vertices;r.push(e[a+0],e[a+1],e[a+2]),r.push(e[b+0],e[b+1],e[b+2]),r.push(e[t+0],e[t+1],e[t+2])},addVertexPoint:function(a){var t=this.vertices;this.object.geometry.vertices.push(t[a+0],t[a+1],t[a+2])},addVertexLine:function(a){var t=this.vertices;this.object.geometry.vertices.push(t[a+0],t[a+1],t[a+2])},addNormal:function(a,b,t){var e=this.normals,r=this.object.geometry.normals;r.push(e[a+0],e[a+1],e[a+2]),r.push(e[b+0],e[b+1],e[b+2]),r.push(e[t+0],e[t+1],e[t+2])},addColor:function(a,b,t){var e=this.colors,r=this.object.geometry.colors;r.push(e[a+0],e[a+1],e[a+2]),r.push(e[b+0],e[b+1],e[b+2]),r.push(e[t+0],e[t+1],e[t+2])},addUV:function(a,b,t){var e=this.uvs,r=this.object.geometry.uvs;r.push(e[a+0],e[a+1]),r.push(e[b+0],e[b+1]),r.push(e[t+0],e[t+1])},addUVLine:function(a){var t=this.uvs;this.object.geometry.uvs.push(t[a+0],t[a+1])},addFace:function(a,b,t,e,r,o,n,h,l){var c=this.vertices.length,m=this.parseVertexIndex(a,c),f=this.parseVertexIndex(b,c),d=this.parseVertexIndex(t,c);if(this.addVertex(m,f,d),void 0!==e&&""!==e){var v=this.uvs.length;m=this.parseUVIndex(e,v),f=this.parseUVIndex(r,v),d=this.parseUVIndex(o,v),this.addUV(m,f,d)}if(void 0!==n&&""!==n){var y=this.normals.length;m=this.parseNormalIndex(n,y),f=n===h?m:this.parseNormalIndex(h,y),d=n===l?m:this.parseNormalIndex(l,y),this.addNormal(m,f,d)}this.colors.length>0&&this.addColor(m,f,d)},addPointGeometry:function(t){this.object.geometry.type="Points";for(var e=this.vertices.length,r=0,o=t.length;r<o;r++)this.addVertexPoint(this.parseVertexIndex(t[r],e))},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var r=this.vertices.length,o=this.uvs.length,n=0,h=t.length;n<h;n++)this.addVertexLine(this.parseVertexIndex(t[n],r));var l=0;for(h=e.length;l<h;l++)this.addUVLine(this.parseUVIndex(e[l],o))}};return t.startObject("",!1),t}function h(t){this.manager=void 0!==t?t:o.DefaultLoadingManager,this.materials=null}return h.prototype={constructor:h,load:function(t,e,r,n){var h=this,l=new o.FileLoader(h.manager);l.setPath(this.path),l.load(t,function(text){e(h.parse(text))},r,n)},setPath:function(t){return this.path=t,this},setMaterials:function(t){return this.materials=t,this},parse:function(text){console.time("OBJLoader");var h=new n;-1!==text.indexOf("\r\n")&&(text=text.replace(/\r\n/g,"\n")),-1!==text.indexOf("\\\n")&&(text=text.replace(/\\\n/g,""));for(var l=text.split("\n"),line="",c="",m=[],f="function"==typeof"".trimLeft,i=0,d=l.length;i<d;i++)if(line=l[i],0!==(line=f?line.trimLeft():line.trim()).length&&"#"!==(c=line.charAt(0)))if("v"===c){var data=line.split(/\s+/);switch(data[0]){case"v":h.vertices.push(parseFloat(data[1]),parseFloat(data[2]),parseFloat(data[3])),8===data.length&&h.colors.push(parseFloat(data[4]),parseFloat(data[5]),parseFloat(data[6]));break;case"vn":h.normals.push(parseFloat(data[1]),parseFloat(data[2]),parseFloat(data[3]));break;case"vt":h.uvs.push(parseFloat(data[1]),parseFloat(data[2]))}}else if("f"===c){for(var v=line.substr(1).trim().split(/\s+/),y=[],w=0,x=v.length;w<x;w++){var C=v[w];if(C.length>0){var L=C.split("/");y.push(L)}}var M=y[0];for(w=1,x=y.length-1;w<x;w++){var j=y[w],F=y[w+1];h.addFace(M[0],j[0],F[0],M[1],j[1],F[1],M[2],j[2],F[2])}}else if("l"===c){var k=line.substring(1).trim().split(" "),A=[],T=[];if(-1===line.indexOf("/"))A=k;else for(var li=0,O=k.length;li<O;li++){var P=k[li].split("/");""!==P[0]&&A.push(P[0]),""!==P[1]&&T.push(P[1])}h.addLineGeometry(A,T)}else if("p"===c){var I=line.substr(1).trim().split(" ");h.addPointGeometry(I)}else if(null!==(m=t.exec(line))){var V=(" "+m[0].substr(1).trim()).substr(1);h.startObject(V)}else if(r.test(line))h.object.startMaterial(line.substring(7).trim(),h.materialLibraries);else if(e.test(line))h.materialLibraries.push(line.substring(7).trim());else{if("s"!==c){if("\0"===line)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+line+'"')}if((m=line.split(" ")).length>1){var _=m[1].trim().toLowerCase();h.object.smooth="0"!==_&&"off"!==_}else h.object.smooth=!0;(W=h.object.currentMaterial())&&(W.smooth=h.object.smooth)}h.finalize();var E=new o.Group;E.materialLibraries=[].concat(h.materialLibraries);for(i=0,d=h.objects.length;i<d;i++){var object=h.objects[i],D=object.geometry,B=object.materials,S="Line"===D.type,U="Points"===D.type,R=!1;if(0!==D.vertices.length){var G=new o.BufferGeometry;G.addAttribute("position",new o.Float32BufferAttribute(D.vertices,3)),D.normals.length>0?G.addAttribute("normal",new o.Float32BufferAttribute(D.normals,3)):G.computeVertexNormals(),D.colors.length>0&&(R=!0,G.addAttribute("color",new o.Float32BufferAttribute(D.colors,3))),D.uvs.length>0&&G.addAttribute("uv",new o.Float32BufferAttribute(D.uvs,2));for(var z,N=[],H=0,X=B.length;H<X;H++){var J=B[H],W=void 0;if(null!==this.materials)if(W=this.materials.create(J.name),!S||!W||W instanceof o.LineBasicMaterial){if(U&&W&&!(W instanceof o.PointsMaterial)){var Z=new o.PointsMaterial({size:10,sizeAttenuation:!1});o.Material.prototype.copy.call(Z,W),Z.color.copy(W.color),Z.map=W.map,Z.lights=!1,W=Z}}else{var K=new o.LineBasicMaterial;o.Material.prototype.copy.call(K,W),K.color.copy(W.color),K.lights=!1,W=K}W||((W=S?new o.LineBasicMaterial:U?new o.PointsMaterial({size:1,sizeAttenuation:!1}):new o.MeshPhongMaterial).name=J.name),W.flatShading=!J.smooth,W.vertexColors=R?o.VertexColors:o.NoColors,N.push(W)}if(N.length>1){for(H=0,X=B.length;H<X;H++){J=B[H];G.addGroup(J.groupStart,J.groupCount,H)}z=S?new o.LineSegments(G,N):U?new o.Points(G,N):new o.Mesh(G,N)}else z=S?new o.LineSegments(G,N[0]):U?new o.Points(G,N[0]):new o.Mesh(G,N[0]);z.name=object.name,E.add(z)}}return console.timeEnd("OBJLoader"),E}},h}()}}]);